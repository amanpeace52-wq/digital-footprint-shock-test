<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Digital Footprint Shock Test – Student Edition</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color-scheme: light;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      background: linear-gradient(135deg, #f5f3e7 0%, #e6f0e5 40%, #f9fafb 100%);
      color: #2b2a26;
    }

    .app {
      width: 100%;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    .frame {
      width: 100%;
      max-width: 960px;
      margin: 0 auto;
    }

    .card {
      width: 100%;
      border-radius: 18px;
      padding: 22px 22px 24px;
      background: #fdfcf8;
      box-shadow: 0 18px 40px rgba(87, 83, 78, 0.18);
      border: 1px solid rgba(148, 127, 97, 0.45);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at top left, rgba(190, 242, 213, 0.35), transparent 60%),
        radial-gradient(circle at bottom right, rgba(199, 210, 185, 0.4), transparent 60%);
      pointer-events: none;
      opacity: 0.9;
    }

    .card-inner {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    header {
      margin-bottom: 4px;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 12px;
      border-radius: 999px;
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      margin-bottom: 0.45rem;
      background: rgba(190, 242, 213, 0.55);
      color: #166534;
      border: 1px solid rgba(21, 128, 61, 0.7);
    }

    h1 {
      margin: 0 0 0.25rem;
      font-size: 1.6rem;
      color: #1f2933;
    }

    .subtitle {
      font-size: 0.96rem;
      color: #4b5563;
      margin-bottom: 0.2rem;
    }

    .byline {
      font-size: 0.82rem;
      color: #6b7280;
      margin-bottom: 0.7rem;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      border-radius: 999px;
      background: #e5e7eb;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      width: 0%;
      border-radius: inherit;
      background: linear-gradient(90deg, #15803d, #a16207);
      transition: width 0.25s ease;
    }

    .step-label {
      font-size: 0.8rem;
      color: #6b7280;
      margin-top: 4px;
    }

    .slides {
      position: relative;
      margin-top: 10px;
      min-height: 260px;
    }

    .slide {
      position: absolute;
      inset: 0;
      padding-top: 4px;
      display: flex;
      flex-direction: column;
      opacity: 0;
      pointer-events: none;
      transform: translateX(24px);
      transition: opacity 0.3s ease, transform 0.3s ease;
    }

    .slide.active {
      opacity: 1;
      pointer-events: auto;
      transform: translateX(0);
    }

    .slide-title {
      font-size: 1.05rem;
      font-weight: 600;
      margin-bottom: 0.3rem;
      color: #1f2933;
    }

    .slide-note {
      font-size: 0.86rem;
      color: #4b5563;
      margin-bottom: 0.8rem;
    }

    .question {
      margin-bottom: 1rem;
      padding: 12px 13px;
      border-radius: 14px;
      background: #f5f3e7;
      border: 1px solid #e0d7c2;
    }

    .question-title {
      font-weight: 600;
      margin-bottom: 0.35rem;
      font-size: 0.96rem;
      color: #1f2933;
    }

    .question-help {
      font-size: 0.8rem;
      color: #6b7280;
      margin-bottom: 0.45rem;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
      font-size: 0.9rem;
      color: #1f2933;
    }

    .options label {
      cursor: pointer;
      line-height: 1.4;
      padding: 4px 7px;
      border-radius: 10px;
      transition: background 0.15s ease, border-color 0.15s ease;
    }

    .options label:hover {
      background: #e4f1e4;
    }

    input[type="radio"] {
      margin-right: 0.45rem;
      transform: translateY(1px);
    }

    textarea {
      width: 100%;
      min-height: 70px;
      resize: vertical;
      border-radius: 10px;
      border: 1px solid #d4c9b6;
      background: #fdfcf8;
      color: #1f2933;
      padding: 7px 9px;
      font-size: 0.9rem;
    }

    .text-input {
      width: 100%;
      border-radius: 999px;
      border: 1px solid #d4c9b6;
      background: #fdfcf8;
      color: #1f2933;
      padding: 7px 11px;
      font-size: 0.9rem;
      outline: none;
    }

    .text-input:focus,
    textarea:focus {
      border-color: #15803d;
      box-shadow: 0 0 0 1px rgba(21, 128, 61, 0.3);
    }

    .slide-footer {
      margin-top: auto;
      padding-top: 6px;
    }

    .btn-row {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 9px 18px;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      background: linear-gradient(135deg, #15803d, #a16207);
      color: #fdfcf8;
      box-shadow: 0 10px 22px rgba(88, 120, 72, 0.35);
      transition: transform 0.1s ease, box-shadow 0.1s ease, opacity 0.1s ease;
      white-space: nowrap;
    }

    .btn.secondary {
      background: #fdfcf8;
      color: #374151;
      border: 1px solid #d4c9b6;
      box-shadow: none;
    }

    .btn.small {
      padding: 7px 13px;
      font-size: 0.82rem;
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 16px 30px rgba(88, 120, 72, 0.45);
      opacity: 0.97;
    }

    .btn.secondary:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 22px rgba(87, 83, 78, 0.15);
    }

    .result-box {
      margin-top: 0.6rem;
      padding: 12px 14px;
      border-radius: 14px;
      background: #f5f3e7;
      border: 1px solid #e0d7c2;
      font-size: 0.92rem;
      color: #1f2933;
    }

    .result-level {
      font-weight: 700;
      margin-bottom: 0.3rem;
    }

    .stars {
      font-size: 1rem;
      color: #eab308;
      margin-bottom: 0.3rem;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 8px;
    }

    .pill {
      font-size: 0.74rem;
      border-radius: 999px;
      padding: 3px 9px;
      border: 1px solid #d4c9b6;
      color: #4b5563;
      background: #fdfcf8;
    }

    .risk-high .result-level { color: #b91c1c; }
    .risk-medium .result-level { color: #b45309; }
    .risk-low .result-level { color: #15803d; }

    .suggestions-title {
      font-weight: 600;
      margin-bottom: 0.3rem;
    }

    .suggestions-list {
      margin: 0.3rem 0 0;
      padding-left: 1.1rem;
      font-size: 0.9rem;
      color: #374151;
    }

    .suggestions-list li { margin-bottom: 0.25rem; }

    @media (min-width: 800px) {
      .smart-grid {
        display: grid;
        grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
        gap: 14px;
      }
    }

    .mail-box { margin-top: 0.9rem; }

    .mail-box p {
      font-size: 0.84rem;
      color: #4b5563;
      margin-bottom: 0.45rem;
    }

    .mail-row {
      display: flex;
      gap: 8px;
      margin-top: 4px;
      flex-wrap: wrap;
    }

    .mail-row .text-input {
      flex: 1 1 190px;
    }

    .footer-note {
      margin-top: 8px;
      font-size: 0.78rem;
      color: #6b7280;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="frame">
      <div class="card">
        <div class="card-inner">
          <header>
            <div class="badge">
              <span>Student Cyber Toolkit</span>
              <span>•</span>
              <span>Interactive Mini-Challenge</span>
            </div>
            <h1>Could a Stranger Map Your Life from One Account?</h1>
            <p class="subtitle">
              One-question-at-a-time check on how “trackable” your digital footprint feels.
            </p>
            <p class="byline">
              Created by <strong>Aman P Kaur</strong> · Cyber Security &amp; Digital Identity Educator
            </p>
            <div class="progress-bar">
              <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="step-label" id="stepLabel">Step 0 · Instructions</div>
          </header>

          <main class="slides">
            <!-- SLIDE 0: INSTRUCTIONS -->
            <section class="slide active" data-index="0">
              <div>
                <div class="slide-title">How this works</div>
                <p class="slide-note">
                  You’ll briefly think like an investigator looking at one of your own accounts. No usernames or passwords needed.
                </p>
                <div class="question">
                  <div class="question-title">What you’ll do:</div>
                  <div class="question-help">
                    Takes about 3–5 minutes and is designed for anyone at a basic level.
                  </div>
                  <ul style="margin:0; padding-left:1.1rem; font-size:0.88rem; color:#374151;">
                    <li>Choose one social or gaming account you actually use.</li>
                    <li>Answer 8 short questions, one screen at a time.</li>
                    <li>See your exposure level and a 1–5 “intensity” rating.</li>
                    <li>Get 3–5 small “smart moves” to try this week.</li>
                  </ul>
                </div>

                <div class="question">
                  <div class="question-title">Privacy note</div>
                  <div class="question-help">
                    This page runs only in your browser.
                  </div>
                  <p style="font-size:0.84rem; margin:0;">
                    We don’t collect, store or send your answers anywhere. This is just a reflection tool for you or your students.
                  </p>
                </div>
              </div>

              <div class="slide-footer">
                <div class="btn-row" style="justify-content:flex-end;">
                  <button class="btn" id="startBtn">Start the Quiz</button>
                </div>
              </div>
            </section>

            <!-- All quiz slides (1–8) are same as before -->
            <!-- Q1 -->
            <section class="slide" data-index="1">
              <div>
                <div class="slide-title">Question 1 of 8</div>
                <p class="slide-note">Think of one account (social or gaming) and answer based on that account only.</p>
                <div class="question">
                  <div class="question-title">How close is your main username/handle to your real identity?</div>
                  <div class="options">
                    <label><input type="radio" name="q_handle" value="3" /> My real name (e.g., amanpreet_kaur)</label>
                    <label><input type="radio" name="q_handle" value="3" /> My name + numbers (e.g., aman1995)</label>
                    <label><input type="radio" name="q_handle" value="2" /> A nickname friends know is me</label>
                    <label><input type="radio" name="q_handle" value="0" /> Completely random / coded</label>
                  </div>
                </div>
              </div>
              <div class="slide-footer">
                <div class="btn-row">
                  <button class="btn secondary" data-prev="0">Back</button>
                  <button class="btn" data-next="2" data-validate="q_handle">Next</button>
                </div>
              </div>
            </section>

            <!-- Q2 -->
            <section class="slide" data-index="2">
              <div>
                <div class="slide-title">Question 2 of 8</div>
                <p class="slide-note">Answer with how you actually behave, not the “perfect” answer.</p>
                <div class="question">
                  <div class="question-title">Do you reuse this same username across platforms?</div>
                  <div class="options">
                    <label><input type="radio" name="q_reuse" value="3" /> Yes, almost everywhere</label>
                    <label><input type="radio" name="q_reuse" value="2" /> On a few main platforms</label>
                    <label><input type="radio" name="q_reuse" value="1" /> Rarely</label>
                    <label><input type="radio" name="q_reuse" value="0" /> Never / I change it a lot</label>
                  </div>
                </div>
              </div>
              <div class="slide-footer">
                <div class="btn-row">
                  <button class="btn secondary" data-prev="1">Back</button>
                  <button class="btn" data-next="3" data-validate="q_reuse">Next</button>
                </div>
              </div>
            </section>

            <!-- Q3 -->
            <section class="slide" data-index="3">
              <div>
                <div class="slide-title">Question 3 of 8</div>
                <p class="slide-note">We’re still mapping how visible this account feels from the outside.</p>
                <div class="question">
                  <div class="question-title">Is this account public or private?</div>
                  <div class="options">
                    <label><input type="radio" name="q_visibility" value="3" /> Public – anyone can view it</label>
                    <label><input type="radio" name="q_visibility" value="1" /> Private – only approved followers</label>
                    <label><input type="radio" name="q_visibility" value="2" /> I’m not sure</label>
                  </div>
                </div>
              </div>
              <div class="slide-footer">
                <div class="btn-row">
                  <button class="btn secondary" data-prev="2">Back</button>
                  <button class="btn" data-next="4" data-validate="q_visibility">Next</button>
                </div>
              </div>
            </section>

            <!-- Q4 -->
            <section class="slide" data-index="4">
              <div>
                <div class="slide-title">Question 4 of 8</div>
                <p class="slide-note">Now think about what your posts and profile actually reveal.</p>
                <div class="question">
                  <div class="question-title">Does this profile show or hint at any of the following?</div>
                  <div class="question-help">Think about photos, bios, captions and tagged locations.</div>
                  <div class="options">
                    <label><input type="radio" name="q_leaks" value="3" /> My school/uni/workplace, city/suburb, AND regular places I go</label>
                    <label><input type="radio" name="q_leaks" value="2" /> One or two of those (e.g., school OR city)</label>
                    <label><input type="radio" name="q_leaks" value="1" /> Very small hints</label>
                    <label><input type="radio" name="q_leaks" value="0" /> None of these</label>
                  </div>
                </div>
              </div>
              <div class="slide-footer">
                <div class="btn-row">
                  <button class="btn secondary" data-prev="3">Back</button>
                  <button class="btn" data-next="5" data-validate="q_leaks">Next</button>
                </div>
              </div>
            </section>

            <!-- Q5 -->
            <section class="slide" data-index="5">
              <div>
                <div class="slide-title">Question 5 of 8</div>
                <p class="slide-note">Imagine a stranger scrolling your recent posts.</p>
                <div class="question">
                  <div class="question-title">If a stranger scrolls your last 12 posts, could they guess your weekly routine?</div>
                  <div class="options">
                    <label><input type="radio" name="q_routine" value="3" /> Yes, easily</label>
                    <label><input type="radio" name="q_routine" value="2" /> Maybe a rough idea</label>
                    <label><input type="radio" name="q_routine" value="1" /> Probably not</label>
                    <label><input type="radio" name="q_routine" value="0" /> Definitely not</label>
                  </div>
                </div>
              </div>
              <div class="slide-footer">
                <div class="btn-row">
                  <button class="btn secondary" data-prev="4">Back</button>
                  <button class="btn" data-next="6" data-validate="q_routine">Next</button>
                </div>
              </div>
            </section>

            <!-- Q6 -->
            <section class="slide" data-index="6">
              <div>
                <div class="slide-title">Question 6 of 8</div>
                <p class="slide-note">Location data is one of the easiest ways to track patterns.</p>
                <div class="question">
                  <div class="question-title">How often do you post with visible locations or tags?</div>
                  <div class="question-help">Geo-tag, school sign, workplace logo, bus stop, etc.</div>
                  <div class="options">
                    <label><input type="radio" name="q_location" value="3" /> Very often</label>
                    <label><input type="radio" name="q_location" value="2" /> Sometimes</label>
                    <label><input type="radio" name="q_location" value="1" /> Rarely</label>
                    <label><input type="radio" name="q_location" value="0" /> Never</label>
                  </div>
                </div>
              </div>
              <div class="slide-footer">
                <div class="btn-row">
                  <button class="btn secondary" data-prev="5">Back</button>
                  <button class="btn" data-next="7" data-validate="q_location">Next</button>
                </div>
              </div>
            </section>

            <!-- Q7 -->
            <section class="slide" data-index="7">
              <div>
                <div class="slide-title">Question 7 of 8</div>
                <p class="slide-note">Think about who you let into your private space.</p>
                <div class="question">
                  <div class="question-title">Scenario – New follow request</div>
                  <div class="question-help">Someone you barely know sends a request. You recognise their name but don't know them well.</div>
                  <div class="options">
                    <label><input type="radio" name="q_accept" value="3" /> I usually accept – more followers is fine</label>
                    <label><input type="radio" name="q_accept" value="2" /> I check their profile then often accept</label>
                    <label><input type="radio" name="q_accept" value="1" /> I only accept if we’ve actually spoken</label>
                    <label><input type="radio" name="q_accept" value="0" /> I decline or ignore unless I really know them</label>
                  </div>
                </div>
              </div>
              <div class="slide-footer">
                <div class="btn-row">
                  <button class="btn secondary" data-prev="6">Back</button>
                  <button class="btn" data-next="8" data-validate="q_accept">Next</button>
                </div>
              </div>
            </section>

            <!-- Q8 -->
            <section class="slide" data-index="8">
              <div>
                <div class="slide-title">Question 8 of 8</div>
              <p class="slide-note">Last one – a common trick used in real attacks.</p>
                <div class="question">
                  <div class="question-title">Scenario – Suspicious link in DMs</div>
                  <div class="question-help">You get a DM: “OMG is this you in this video?” + a link.</div>
                  <div class="options">
                    <label><input type="radio" name="q_link" value="3" /> I’d probably tap the link straight away</label>
                    <label><input type="radio" name="q_link" value="2" /> I might tap it, but if it looks weird I close it</label>
                    <label><input type="radio" name="q_link" value="1" /> I’d ask them if they really sent it before clicking</label>
                    <label><input type="radio" name="q_link" value="0" /> I’d delete or report it without tapping</label>
                  </div>
                </div>
              </div>
              <div class="slide-footer">
                <div class="btn-row">
                  <button class="btn secondary" data-prev="7">Back</button>
                  <button class="btn" id="finishQuizBtn">See my rating</button>
                </div>
              </div>
            </section>

            <!-- RATING -->
            <section class="slide" data-index="9">
              <div>
                <div class="slide-title">Your rating & exposure level</div>
                <p class="slide-note">This is just a snapshot of one account, not a judgment on you.</p>

                <div class="result-box" id="resultBox">
                  <div id="resultLevel" class="result-level"></div>
                  <div id="stars" class="stars"></div>
                  <div id="resultSummary"></div>
                  <div class="pill-row" id="pillRow"></div>
                </div>

                <div class="question" style="margin-top:0.9rem;">
                  <div class="question-title">How to read this</div>
                  <div class="question-help">
                    We’re looking at how easy it would be for a stranger to build a picture of your life from this account alone.
                  </div>
                  <p style="font-size:0.86rem; margin:0;">
                    On the next screen, you’ll see a few <strong>small, realistic actions</strong> you can try in the next week.
                  </p>
                </div>
              </div>

              <div class="slide-footer">
                <div class="btn-row">
                  <button class="btn secondary" id="retakeFromRatingBtn">Retake quiz</button>
                  <button class="btn" id="goToSmartMovesBtn">Show smart moves</button>
                </div>
              </div>
            </section>

            <!-- SMART MOVES -->
            <section class="slide" data-index="10">
              <div>
                <div class="slide-title">Smart moves to make this week</div>
                <p class="slide-note">You don’t need to change everything. Choose one or two actions that feel realistic.</p>

                <div class="smart-grid">
                  <div>
                    <div class="result-box">
                      <div class="suggestions-title">Based on your answers, consider:</div>
                      <ul class="suggestions-list" id="actionsList"></ul>
                    </div>
                  </div>

                  <div>
                    <div class="question" style="margin-top:0;">
                      <div class="question-title">One-line reflection (optional)</div>
                      <div class="question-help">What surprised you most about your digital footprint from this exercise?</div>
                      <textarea id="reflection" placeholder="This stays in your browser only – nothing is sent anywhere."></textarea>
                    </div>

                    <div class="question">
                      <div class="question-title">Would you like more practical steps in the future?</div>
                      <div class="options">
                        <label><input type="radio" name="q_more" value="yes" /> Yes, I’d be interested</label>
                        <label><input type="radio" name="q_more" value="maybe" /> Maybe, depends on the format</label>
                        <label><input type="radio" name="q_more" value="no" /> No, I’m okay for now</label>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="result-box mail-box">
                  <div class="question-title">Join Aman P Kaur’s Cyber Updates</div>
                  <p>
                    If you enjoy simple, practical tools like this and want beginner-friendly cyber tips and student resources, you can join my mailing list.
                  </p>
                  <form class="mail-row" action="#" method="post">
                    <input type="email" class="text-input" name="email" placeholder="Enter your email (optional)" />
                    <button type="submit" class="btn small">Join</button>
                  </form>
                  <p style="margin-top: 6px; font-size: 0.76rem; color: #6b7280;">
                    No spam. You can unsubscribe anytime. This form does not collect your quiz answers.
                  </p>
                </div>
              </div>

              <div class="slide-footer">
                <div class="btn-row">
                  <button class="btn secondary" id="retakeFromSmartMovesBtn">Retake quiz</button>
                  <button class="btn" id="backToRatingBtn">Back to rating</button>
                </div>
                <div class="footer-note">
                  Awareness is your first defence. The next step is choosing <strong>one small change</strong> and actually doing it this week.
                </div>
              </div>
            </section>
          </main>
        </div>
      </div>
    </div>
  </div>

  <script>
    window.onload = function () {
      var slides = document.querySelectorAll('.slide');
      var progressFill = document.getElementById('progressFill');
      var stepLabel = document.getElementById('stepLabel');
      var totalQuestions = 8;
      var currentIndex = 0;
      var quizCompleted = false;

      function showSlide(index) {
        for (var i = 0; i < slides.length; i++) {
          slides[i].classList.remove('active');
        }
        var target = document.querySelector('.slide[data-index="' + index + '"]');
        if (target) {
          target.classList.add('active');
          currentIndex = index;
          updateProgress();
          updateStepLabel();
        }
      }

      function updateProgress() {
        var pct = 0;
        if (currentIndex === 0) {
          pct = 0;
        } else if (currentIndex >= 1 && currentIndex <= totalQuestions) {
          pct = (currentIndex / totalQuestions) * 100;
        } else {
          pct = 100;
        }
        progressFill.style.width = pct + '%';
      }

      function updateStepLabel() {
        if (currentIndex === 0) {
          stepLabel.textContent = 'Step 0 · Instructions';
        } else if (currentIndex >= 1 && currentIndex <= totalQuestions) {
          stepLabel.textContent = 'Step ' + currentIndex + ' · Quiz';
        } else if (currentIndex === 9) {
          stepLabel.textContent = 'Step 9 · Rating';
        } else if (currentIndex === 10) {
          stepLabel.textContent = 'Step 10 · Smart Moves';
        }
      }

      function validateRadio(name) {
        var checked = document.querySelector('input[name="' + name + '"]:checked');
        if (!checked) {
          alert('Please choose an option to continue.');
          return false;
        }
        return true;
      }

      function getIntValue(name) {
        var checked = document.querySelector('input[name="' + name + '"]:checked');
        if (!checked) return 0;
        return parseInt(checked.value, 10);
      }

      // Next buttons
      var nextButtons = document.querySelectorAll('[data-next]');
      for (var i = 0; i < nextButtons.length; i++) {
        nextButtons[i].addEventListener('click', function () {
          var validateName = this.getAttribute('data-validate');
          if (validateName && !validateRadio(validateName)) return;
          var nextIndex = parseInt(this.getAttribute('data-next'), 10);
          showSlide(nextIndex);
        });
      }

      // Prev buttons
      var prevButtons = document.querySelectorAll('[data-prev]');
      for (var j = 0; j < prevButtons.length; j++) {
        prevButtons[j].addEventListener('click', function () {
          var prevIndex = parseInt(this.getAttribute('data-prev'), 10);
          showSlide(prevIndex);
        });
      }

      // Start button
      document.getElementById('startBtn').addEventListener('click', function () {
        showSlide(1);
      });

      // Finish quiz
      document.getElementById('finishQuizBtn').addEventListener('click', function () {
        if (!validateRadio('q_link')) return;
        calculateResult();
        quizCompleted = true;
        showSlide(9);
      });

      // Rating -> Smart moves
      document.getElementById('goToSmartMovesBtn').addEventListener('click', function () {
        if (!quizCompleted) return;
        showSlide(10);
      });

      // Smart moves -> Rating
      document.getElementById('backToRatingBtn').addEventListener('click', function () {
        if (!quizCompleted) return;
        showSlide(9);
      });

      // Retakes
      document.getElementById('retakeFromRatingBtn').addEventListener('click', function () {
        resetQuiz();
        showSlide(1);
      });

      document.getElementById('retakeFromSmartMovesBtn').addEventListener('click', function () {
        resetQuiz();
        showSlide(1);
      });

      function calculateResult() {
        var handleScore = getIntValue('q_handle');
        var reuseScore = getIntValue('q_reuse');
        var visibilityScore = getIntValue('q_visibility');
        var leaksScore = getIntValue('q_leaks');
        var routineScore = getIntValue('q_routine');
        var locationScore = getIntValue('q_location');
        var acceptScore = getIntValue('q_accept');
        var linkScore = getIntValue('q_link');

        var total = handleScore + reuseScore + visibilityScore +
                    leaksScore + routineScore + locationScore +
                    acceptScore + linkScore;

        var level = '';
        var message = '';
        var rating = 1;
        var resultBox = document.getElementById('resultBox');

        if (total >= 16) {
          level = 'High Exposure';
          message = 'Your online identity is highly connectable and your posts and choices reveal a lot about your routine, locations and behaviour.';
          rating = 5;
          resultBox.className = 'result-box risk-high';
        } else if (total >= 8) {
          level = 'Moderate Exposure';
          message = 'Some parts of your digital life are quite visible, especially around locations, routines or who can reach you.';
          rating = 3;
          resultBox.className = 'result-box risk-medium';
        } else {
          level = 'Lower Exposure';
          message = 'Right now your digital footprint is harder for strangers to map. You are already making some strong privacy-aware choices.';
          rating = 2;
          resultBox.className = 'result-box risk-low';
        }

        var starText = '';
        for (var i = 0; i < 5; i++) {
          starText += i < rating ? '★' : '☆';
        }

        document.getElementById('resultLevel').textContent = 'Your Exposure Level: ' + level;
        document.getElementById('stars').textContent = 'Exposure intensity: ' + starText + ' (' + rating + '/5)';
        document.getElementById('resultSummary').textContent = message;

        var pillRow = document.getElementById('pillRow');
        pillRow.innerHTML = '';

        var pills = [];
        if (handleScore >= 3) pills.push('Real-name style handle');
        if (reuseScore >= 2) pills.push('Same username across platforms');
        if (visibilityScore >= 2) pills.push('Public or unclear privacy settings');
        if (leaksScore >= 2) pills.push('Posts reveal school/uni/work or city');
        if (routineScore >= 2) pills.push('Routine visible from recent posts');
        if (locationScore >= 2) pills.push('Frequent location tags');
        if (acceptScore >= 2) pills.push('Often accepts weak connection requests');
        if (linkScore >= 2) pills.push('At risk of tapping suspicious links');
        if (pills.length === 0) {
          pills.push('Good variety in handles');
          pills.push('Limited public routine/location exposure');
        }

        for (var k = 0; k < pills.length; k++) {
          var span = document.createElement('span');
          span.className = 'pill';
          span.textContent = pills[k];
          pillRow.appendChild(span);
        }

        buildActions({
          handleScore: handleScore,
          reuseScore: reuseScore,
          visibilityScore: visibilityScore,
          leaksScore: leaksScore,
          routineScore: routineScore,
          locationScore: locationScore,
          acceptScore: acceptScore,
          linkScore: linkScore,
          level: level
        });
      }

      function buildActions(scores) {
        var actions = [];
        function add(text) {
          if (actions.indexOf(text) === -1) actions.push(text);
        }

        var level = scores.level;
        var reuseScore = scores.reuseScore;
        var visibilityScore = scores.visibilityScore;
        var leaksScore = scores.leaksScore;
        var routineScore = scores.routineScore;
        var locationScore = scores.locationScore;
        var acceptScore = scores.acceptScore;
        var linkScore = scores.linkScore;

        if (level === 'High Exposure') {
          add('Pick one main account and make it private for at least 30 days.');
          add('Remove or hide older posts that clearly show uniforms, street signs or school/uni names.');
          add('Separate “real name” accounts from public ones using different handles.');
        } else if (level === 'Moderate Exposure') {
          add('Turn off location tags by default and only add them to posts that are safe long-term.');
          add('Audit your followers/friends list and remove people you cannot remember in real life.');
          add('Choose one day a month to quickly review your last 10–15 posts with “stranger eyes”.');
        } else {
          add('Keep your main account private and continue being picky about who can see your stories and posts.');
          add('Do a quick check of app permissions (camera, mic, location) and remove any that feel unnecessary.');
          add('Share this test with a friend and compare what each of you discovered about your footprint.');
        }

        if (reuseScore >= 2) {
          add('Use different handles on at least one platform so it is harder to automatically link all of your profiles.');
        }
        if (visibilityScore >= 2) {
          add('Review privacy settings and switch anything “Everyone” to “Friends” or “Followers only” where possible.');
        }
        if (locationScore >= 2 || routineScore >= 2) {
          add('Avoid posting in real time from home, school, or work. Post later or without location.');
        }
        if (acceptScore >= 2) {
          add('Create a simple rule: if you wouldn’t say hi to them in person, they don’t need access to your private account.');
        }
        if (linkScore >= 2) {
          add('Treat any “Is this you in this video?” message as suspicious. Ask the person on another channel before tapping.');
        }

        var actionsList = document.getElementById('actionsList');
        actionsList.innerHTML = '';
        for (var i = 0; i < actions.length && i < 5; i++) {
          var li = document.createElement('li');
          li.textContent = actions[i];
          actionsList.appendChild(li);
        }
      }

      function resetQuiz() {
        var radios = document.querySelectorAll('input[type="radio"]');
        for (var i = 0; i < radios.length; i++) {
          radios[i].checked = false;
        }
        var reflection = document.getElementById('reflection');
        if (reflection) reflection.value = '';

        document.getElementById('resultLevel').textContent = '';
        document.getElementById('resultSummary').textContent = '';
        document.getElementById('stars').textContent = '';
        document.getElementById('pillRow').innerHTML = '';
        document.getElementById('actionsList').innerHTML = '';

        document.getElementById('resultBox').className = 'result-box';
        quizCompleted = false;
        currentIndex = 1;
        updateProgress();
        updateStepLabel();
      }

      // initial
      showSlide(0);
    };
  </script>
</body>
</html>
