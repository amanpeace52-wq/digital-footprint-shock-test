<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Digital Footprint Shock Test ‚Äì Student Edition</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color-scheme: dark;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: stretch;
      background: radial-gradient(circle at top, #1f2933 0%, #111827 40%, #020617 75%, #020617 100%);
      color: #f9fafb;
    }

    .shell {
      max-width: 1120px;
      width: 100%;
      padding: 16px;
      display: flex;
      justify-content: center;
      align-items: stretch;
    }

    .layout {
      display: grid;
      grid-template-columns: 1fr;
      gap: 14px;
      width: 100%;
    }

    .card {
      background: linear-gradient(145deg, rgba(15,23,42,0.95), rgba(30,64,175,0.85), rgba(249,115,22,0.8));
      border-radius: 24px;
      padding: 18px 16px 24px;
      box-shadow: 0 24px 60px rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(248, 250, 252, 0.08);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: -30%;
      background: radial-gradient(circle at top right, rgba(251,191,36,0.28), transparent 60%),
                  radial-gradient(circle at bottom left, rgba(56,189,248,0.18), transparent 60%);
      opacity: 0.9;
      pointer-events: none;
    }

    .card-inner {
      position: relative;
      z-index: 1;
    }

    .visual {
      display: none;
    }

    @media (min-width: 880px) {
      .layout {
        grid-template-columns: minmax(0, 1.5fr) minmax(0, 1.1fr);
        gap: 18px;
      }

      .card {
        padding: 24px 24px 28px;
      }

      .visual {
        display: flex;
        flex-direction: column;
        gap: 10px;
        border-radius: 24px;
        overflow: hidden;
        background: radial-gradient(circle at top, #f97316, #7c2d12);
        box-shadow: 0 24px 60px rgba(15,23,42,0.9);
        border: 1px solid rgba(248, 250, 252, 0.1);
      }
    }

    .visual-img {
      flex: 1;
      min-height: 220px;
      background-image:
        url("https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?auto=format&fit=crop&w=800&q=80");
      background-size: cover;
      background-position: center;
    }

    .visual-overlay {
      padding: 14px 14px 16px;
      font-size: 0.86rem;
      color: #fef9c3;
      background: linear-gradient(135deg, rgba(15,23,42,0.9), rgba(180,83,9,0.9));
    }

    .visual-tag {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.72rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      background: rgba(15,23,42,0.8);
      border: 1px solid rgba(254,249,195,0.5);
      margin-bottom: 6px;
    }

    /* Header + progress */

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      margin-bottom: 0.55rem;
      background: rgba(251,146,60,0.16);
      color: #fed7aa;
      border: 1px solid rgba(251,191,36,0.7);
    }

    h1, h2 {
      margin-top: 0;
      color: #fefce8;
    }

    h1 {
      font-size: 1.6rem;
      margin-bottom: 0.25rem;
    }

    h2 {
      font-size: 1.25rem;
      margin-bottom: 0.35rem;
    }

    .subtitle {
      font-size: 0.92rem;
      color: #fcd34d;
      margin-bottom: 0.25rem;
    }

    .byline {
      font-size: 0.8rem;
      color: #e5e7eb;
      margin-bottom: 0.9rem;
    }

    .progress-bar {
      width: 100%;
      height: 6px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      overflow: hidden;
      margin-bottom: 10px;
      border: 1px solid rgba(248,250,252,0.08);
    }

    .progress-fill {
      height: 100%;
      width: 0%;
      border-radius: inherit;
      background: linear-gradient(90deg, #f97316, #facc15);
      transition: width 0.25s ease;
    }

    .step-dots {
      display: flex;
      gap: 6px;
      margin-bottom: 10px;
      font-size: 0.75rem;
      color: #e5e7eb;
      align-items: center;
    }

    .dot {
      width: 9px;
      height: 9px;
      border-radius: 999px;
      border: 1px solid rgba(252,211,77,0.6);
      background: transparent;
    }

    .dot.active {
      background: #fb923c;
      box-shadow: 0 0 0 3px rgba(251,146,60,0.35);
    }

    .step {
      display: none;
      margin-top: 8px;
    }

    .step.active {
      display: block;
    }

    .step-indicator {
      font-size: 0.8rem;
      color: #e5e7eb;
      margin-bottom: 0.4rem;
    }

    .step-title {
      font-size: 1.02rem;
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .step-note {
      font-size: 0.8rem;
      color: #e5e7eb;
      margin-bottom: 0.8rem;
    }

    /* Question cards */

    .question {
      margin-bottom: 0.85rem;
      padding: 10px 11px;
      border-radius: 14px;
      background: rgba(15, 23, 42, 0.88);
      border: 1px solid rgba(31, 41, 55, 0.95);
    }

    .question-title {
      font-weight: 600;
      margin-bottom: 0.3rem;
      font-size: 0.92rem;
    }

    .question-help {
      font-size: 0.78rem;
      color: #e5e7eb;
      margin-bottom: 0.35rem;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
      font-size: 0.86rem;
    }

    label {
      cursor: pointer;
      line-height: 1.35;
    }

    input[type="radio"],
    input[type="checkbox"] {
      margin-right: 0.4rem;
      transform: translateY(1px);
    }

    textarea {
      width: 100%;
      min-height: 60px;
      resize: vertical;
      border-radius: 10px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: #020617;
      color: #e5e7eb;
      padding: 6px 8px;
      font-size: 0.86rem;
    }

    .text-input {
      width: 100%;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: #020617;
      color: #e5e7eb;
      padding: 6px 10px;
      font-size: 0.86rem;
      outline: none;
    }

    /* Buttons */

    .btn-row {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      margin-top: 14px;
    }

    .btn {
      flex: 1;
      border: none;
      border-radius: 999px;
      padding: 8px 14px;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      background: linear-gradient(135deg, #fb923c, #fbbf24);
      color: #111827;
      box-shadow: 0 12px 26px rgba(251,146,60,0.6);
      transition: transform 0.1s ease, box-shadow 0.1s ease, opacity 0.1s ease;
      white-space: nowrap;
    }

    .btn.secondary {
      background: transparent;
      border: 1px solid rgba(248,250,252,0.15);
      box-shadow: none;
      color: #f9fafb;
    }

    .btn.small {
      flex: 0 0 auto;
      padding: 6px 12px;
      font-size: 0.8rem;
      box-shadow: 0 9px 18px rgba(251,146,60,0.5);
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 18px 32px rgba(251,146,60,0.7);
      opacity: 0.97;
    }

    .btn.secondary:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 26px rgba(15,23,42,0.9);
    }

    .result-box {
      margin-top: 0.75rem;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(248,250,252,0.12);
      font-size: 0.88rem;
    }

    .result-level {
      font-weight: 700;
      margin-bottom: 0.25rem;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .pill {
      font-size: 0.72rem;
      border-radius: 999px;
      padding: 3px 8px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      color: #f9fafb;
      background: rgba(15, 23, 42, 0.9);
    }

    .risk-high {
      color: #fecaca;
      border-color: rgba(248,113,113,0.9);
    }

    .risk-medium {
      color: #fef9c3;
      border-color: rgba(250,204,21,0.9);
    }

    .risk-low {
      color: #bbf7d0;
      border-color: rgba(74,222,128,0.9);
    }

    .suggestions-title {
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .suggestions-list {
      margin: 0.25rem 0 0;
      padding-left: 1.1rem;
      font-size: 0.84rem;
      color: #e5e7eb;
    }

    .mail-box {
      margin-top: 1rem;
    }

    .mail-box p {
      font-size: 0.82rem;
      color: #e5e7eb;
      margin-bottom: 0.45rem;
    }

    .mail-row {
      display: flex;
      gap: 8px;
      margin-top: 4px;
      flex-wrap: wrap;
    }

    .mail-row .text-input {
      flex: 1 1 180px;
    }

    .footer-note {
      margin-top: 10px;
      font-size: 0.75rem;
      color: #e5e7eb;
      text-align: center;
    }

    .info-chip {
      display: inline-flex;
      gap: 4px;
      align-items: center;
      font-size: 0.78rem;
      color: #e5e7eb;
      margin-top: 4px;
    }

    .info-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #fbbf24;
    }
  </style>
</head>
<body>
  <div class="shell">
    <div class="layout">
      <div class="card">
        <div class="card-inner">
          <div class="badge">
            <span>Cyber Awareness</span>
            <span>‚Ä¢</span>
            <span>Digital Footprint Shock Test</span>
          </div>

          <h1>How Exposed Are You Online?</h1>
          <p class="subtitle">
            A short, phone-friendly challenge about one of your main social or gaming accounts.
          </p>
          <p class="byline">
            Created by <strong>Aman P Kaur</strong> ¬∑ Cyber Security &amp; Digital Identity Educator
          </p>

          <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
          </div>

          <div class="step-dots">
            <span class="dot" data-dot="1"></span>
            <span class="dot" data-dot="2"></span>
            <span class="dot" data-dot="3"></span>
            <span class="dot" data-dot="4"></span>
            <span style="margin-left:4px; font-size:0.75rem;">Tap through the steps &rarr;</span>
          </div>

          <!-- STEP 1 -->
          <div class="step active" data-step="1">
            <div class="step-indicator">Step 1 of 4 ¬∑ Warm-up</div>
            <div class="step-title">Before we start</div>
            <p class="step-note">
              Think of <strong>one</strong> account (social or gaming) while you answer. No usernames or passwords needed.
            </p>

            <div class="question">
              <div class="question-title">Who are you doing this test for?</div>
              <div class="options">
                <label><input type="radio" name="q_who" value="self" /> Myself (student)</label>
                <label><input type="radio" name="q_who" value="friend" /> A friend / family member</label>
                <label><input type="radio" name="q_who" value="curious" /> Just exploring / curious</label>
              </div>
            </div>

            <div class="question">
              <div class="question-title">
                Do you understand this test is for awareness only and will NOT collect real passwords?
              </div>
              <div class="options">
                <label><input type="radio" name="q_consent" value="yes" /> Yes, I understand and want to continue</label>
                <label><input type="radio" name="q_consent" value="no" /> No, I‚Äôd rather not</label>
              </div>
              <div class="info-chip">
                <span class="info-dot"></span>
                <span>Nothing you type here is sent anywhere ‚Äì it stays in your browser.</span>
              </div>
            </div>

            <div class="btn-row">
              <button class="btn" id="next1">Start</button>
            </div>
          </div>

          <!-- STEP 2 -->
          <div class="step" data-step="2">
            <div class="step-indicator">Step 2 of 4 ¬∑ Identity & platforms</div>
            <div class="step-title">Your handle and how you use it</div>
            <p class="step-note">
              Answer with how you actually use this account, not the ‚Äúperfect‚Äù answer.
            </p>

            <div class="question">
              <div class="question-title">How close is your main username/handle to your real identity?</div>
              <div class="options">
                <label><input type="radio" name="q_handle" value="3" /> My real name (e.g., amanpreet_kaur)</label>
                <label><input type="radio" name="q_handle" value="3" /> My name + numbers (e.g., aman1995)</label>
                <label><input type="radio" name="q_handle" value="2" /> A nickname friends know is me</label>
                <label><input type="radio" name="q_handle" value="0" /> Completely random / coded</label>
              </div>
            </div>

            <div class="question">
              <div class="question-title">Do you reuse this same username across platforms?</div>
              <div class="options">
                <label><input type="radio" name="q_reuse" value="3" /> Yes, almost everywhere</label>
                <label><input type="radio" name="q_reuse" value="2" /> On a few main platforms</label>
                <label><input type="radio" name="q_reuse" value="1" /> Rarely</label>
                <label><input type="radio" name="q_reuse" value="0" /> Never / I change it a lot</label>
              </div>
            </div>

            <div class="question">
              <div class="question-title">Is this account public or private?</div>
              <div class="options">
                <label><input type="radio" name="q_visibility" value="3" /> Public ‚Äì anyone can view it</label>
                <label><input type="radio" name="q_visibility" value="1" /> Private ‚Äì only approved followers</label>
                <label><input type="radio" name="q_visibility" value="2" /> I‚Äôm not sure</label>
              </div>
            </div>

            <div class="question">
              <div class="question-title">How often do you actively use this account?</div>
              <div class="options">
                <label><input type="radio" name="q_platform" value="3" /> Several times a day</label>
                <label><input type="radio" name="q_platform" value="2" /> A few times a week</label>
                <label><input type="radio" name="q_platform" value="1" /> About once a week</label>
                <label><input type="radio" name="q_platform" value="0" /> Rarely</label>
              </div>
            </div>

            <div class="question">
              <div class="question-title">On a scale of 1‚Äì4, how ‚Äúpublic‚Äù does this account feel?</div>
              <div class="question-help">This is your own perception ‚Äì there is no right or wrong here.</div>
              <div class="options">
                <label><input type="radio" name="q_publicfeel" value="0" /> 1 ‚Äì Very private, almost no one</label>
                <label><input type="radio" name="q_publicfeel" value="1" /> 2 ‚Äì Mostly people I know</label>
                <label><input type="radio" name="q_publicfeel" value="2" /> 3 ‚Äì Mix of friends and strangers</label>
                <label><input type="radio" name="q_publicfeel" value="3" /> 4 ‚Äì Pretty public, anyone could be watching</label>
              </div>
            </div>

            <div class="btn-row">
              <button class="btn secondary" data-prev="1">Back</button>
              <button class="btn" id="next2">Next</button>
            </div>
          </div>

          <!-- STEP 3 -->
          <div class="step" data-step="3">
            <div class="step-indicator">Step 3 of 4 ¬∑ What your posts and choices reveal</div>
            <div class="step-title">Content, routine & hypotheticals</div>
            <p class="step-note">
              Short scenarios based on real tricks used by attackers.
            </p>

            <div class="question">
              <div class="question-title">Does this profile show or hint at any of the following?</div>
              <div class="options">
                <label><input type="radio" name="q_leaks" value="3" /> My school/uni or workplace, my city/suburb, AND regular places I go</label>
                <label><input type="radio" name="q_leaks" value="2" /> One or two of those (e.g., school OR city)</label>
                <label><input type="radio" name="q_leaks" value="1" /> Very small hints (e.g., one photo with a logo)</label>
                <label><input type="radio" name="q_leaks" value="0" /> None of these</label>
              </div>
            </div>

            <div class="question">
              <div class="question-title">If a stranger scrolls your last 12 posts, could they guess your weekly routine?</div>
              <div class="options">
                <label><input type="radio" name="q_routine" value="3" /> Yes, easily</label>
                <label><input type="radio" name="q_routine" value="2" /> Maybe a rough idea</label>
                <label><input type="radio" name="q_routine" value="1" /> Probably not</label>
                <label><input type="radio" name="q_routine" value="0" /> Definitely not</label>
              </div>
            </div>

            <div class="question">
              <div class="question-title">How often do you post with visible locations or tags?</div>
              <div class="question-help">Geo-tag, school sign, workplace logo, bus stop, etc.</div>
              <div class="options">
                <label><input type="radio" name="q_location" value="3" /> Very often</label>
                <label><input type="radio" name="q_location" value="2" /> Sometimes</label>
                <label><input type="radio" name="q_location" value="1" /> Rarely</label>
                <label><input type="radio" name="q_location" value="0" /> Never</label>
              </div>
            </div>

            <div class="question">
              <div class="question-title">Scenario 1: New follow request</div>
              <div class="question-help">
                Someone you barely know sends a follow / friend request. You recognise their name from school/uni but don‚Äôt know them well.
              </div>
              <div class="options">
                <label><input type="radio" name="q_accept" value="3" /> I usually accept ‚Äì more followers is fine</label>
                <label><input type="radio" name="q_accept" value="2" /> I check their profile then often accept</label>
                <label><input type="radio" name="q_accept" value="1" /> I only accept if we‚Äôve actually spoken before</label>
                <label><input type="radio" name="q_accept" value="0" /> I decline or ignore unless I really know them</label>
              </div>
            </div>

            <div class="question">
              <div class="question-title">Scenario 2: Suspicious link in DMs</div>
              <div class="question-help">
                You get a DM from someone you know with a short message and a link: ‚ÄúOMG is this you in this video?‚Äù
              </div>
              <div class="options">
                <label><input type="radio" name="q_link" value="3" /> I‚Äôd probably tap the link straight away</label>
                <label><input type="radio" name="q_link" value="2" /> I might tap it, but if it looks weird I‚Äôll close it</label>
                <label><input type="radio" name="q_link" value="1" /> I‚Äôd ask them if they really sent it before clicking</label>
                <label><input type="radio" name="q_link" value="0" /> I‚Äôd delete or report it without tapping</label>
              </div>
            </div>

            <div class="btn-row">
              <button class="btn secondary" data-prev="2">Back</button>
              <button class="btn" id="next3">See my results</button>
            </div>
          </div>

          <!-- STEP 4 (RESULTS) -->
          <div class="step" data-step="4">
            <div class="step-indicator">Step 4 of 4 ¬∑ Your exposure snapshot</div>

            <h2>Your Digital Footprint Snapshot</h2>
            <p class="step-note">
              You‚Äôve just done a mini OSINT (Open Source Intelligence) exercise on yourself ‚Äì that is a real cyber security skill.
            </p>

            <div class="result-box">
              <div id="resultLevel" class="result-level"></div>
              <div id="resultSummary"></div>
              <div class="pill-row" id="pillRow"></div>
            </div>

            <div class="result-box" style="margin-top:0.7rem;">
              <div class="suggestions-title">Smart moves to make this week</div>
              <ul class="suggestions-list" id="actionsList"></ul>
            </div>

            <div class="question" style="margin-top: 0.9rem;">
              <div class="question-title">One-line reflection (optional)</div>
              <div class="question-help">What surprised you most about your own digital footprint?</div>
              <textarea id="reflection" placeholder="This stays in your browser only ‚Äì nothing is sent anywhere."></textarea>
            </div>

            <div class="question">
              <div class="question-title">Would you like more practical steps in the future?</div>
              <div class="options">
                <label><input type="radio" name="q_more" value="yes" /> Yes, I‚Äôd be interested</label>
                <label><input type="radio" name="q_more" value="maybe" /> Maybe, depends on the format</label>
                <label><input type="radio" name="q_more" value="no" /> No, I‚Äôm okay for now</label>
              </div>
            </div>

            <div class="result-box mail-box">
              <div class="question-title">Join Aman P Kaur‚Äôs Cyber Updates</div>
              <p>
                If you enjoy tools like this and want simple cyber tips, OSINT-style mini challenges, and new resources,
                you can join my mailing list.
              </p>
              <form class="mail-row" action="#" method="post">
                <!-- Replace action="#" with your email marketing form URL when ready -->
                <input
                  type="email"
                  class="text-input"
                  name="email"
                  placeholder="Enter your email (optional)"
                />
                <button type="submit" class="btn small">Join</button>
              </form>
              <p style="margin-top: 6px; font-size: 0.72rem; color: #e5e7eb;">
                No spam. You can unsubscribe anytime. This form does not collect your quiz answers.
              </p>
            </div>

            <div class="btn-row">
              <button class="btn secondary" id="retakeBtn">Retake Test</button>
              <button class="btn" id="finishBtn">Refresh Outcome</button>
            </div>

            <div class="footer-note">
              Awareness is your first defence. The next step is choosing one small change and actually doing it this week.<br />
              Created by <strong>Aman P Kaur</strong>.
            </div>
          </div>

          <!-- EXIT SCREEN IF NO CONSENT -->
          <div class="step" data-step="exit">
            <h2>Thanks for dropping by üëã</h2>
            <p class="step-note">
              This activity is designed to build awareness about digital footprints and online safety.
              If you change your mind later, you can always come back and take the test.
            </p>
            <button class="btn" id="restartFromExit">Start the Test</button>
          </div>
        </div>
      </div>

      <!-- Side visual panel -->
      <div class="visual">
        <div class="visual-img"></div>
        <div class="visual-overlay">
          <div class="visual-tag">
            <span>OSINT Skill Builder</span>
          </div>
          <p style="margin:0 0 6px;">
            This challenge is built to feel like what ethical hackers and investigators do: observing public clues, linking patterns,
            and thinking like a ‚Äúfriendly attacker‚Äù to spot your own risks.
          </p>
          <p style="margin:0; font-size:0.8rem; color:#fef9c3;">
            Use it as a quick class activity, a personal check-in, or the first step before deeper cyber security learning.
          </p>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var steps = document.querySelectorAll('.step');
      var progressFill = document.getElementById('progressFill');
      var dots = document.querySelectorAll('.dot');

      function updateDots(stepNumber) {
        dots.forEach(function(dot) {
          dot.classList.remove('active');
          var dotStep = parseInt(dot.getAttribute('data-dot'), 10);
          if (dotStep === stepNumber) {
            dot.classList.add('active');
          }
        });
      }

      function showStep(stepNumber) {
        steps.forEach(function(step) {
          step.classList.remove('active');
        });
        var selector = '.step[data-step="' + stepNumber + '"]';
        var stepEl = document.querySelector(selector);
        if (stepEl) {
          stepEl.classList.add('active');
        }

        if (stepNumber === 'exit') {
          progressFill.style.width = '0%';
        } else {
          var num = parseInt(stepNumber, 10);
          var percent = (num / 4) * 100;
          progressFill.style.width = Math.min(percent, 100) + '%';
          if (!isNaN(num)) {
            updateDots(num);
          }
        }
      }

      function validateRadios(names) {
        for (var i = 0; i < names.length; i++) {
          var name = names[i];
          var checked = document.querySelector('input[name="' + name + '"]:checked');
          if (!checked) {
            alert('Please answer all questions on this step before continuing.');
            return false;
          }
        }
        return true;
      }

      function getIntValue(name) {
        var checked = document.querySelector('input[name="' + name + '"]:checked');
        if (!checked) return 0;
        return parseInt(checked.value, 10);
      }

      // Buttons
      var next1 = document.getElementById('next1');
      var next2 = document.getElementById('next2');
      var next3 = document.getElementById('next3');
      var restartFromExit = document.getElementById('restartFromExit');
      var retakeBtn = document.getElementById('retakeBtn');
      var finishBtn = document.getElementById('finishBtn');

      // STEP 1 -> 2 (always moves, but respects "no" consent)
      next1.addEventListener('click', function () {
        var consentChecked = document.querySelector('input[name="q_consent"]:checked');
        if (consentChecked && consentChecked.value === 'no') {
          showStep('exit');
        } else {
          showStep('2');
        }
      });

      // STEP 2 -> 3
      next2.addEventListener('click', function () {
        if (!validateRadios(['q_handle', 'q_reuse', 'q_visibility', 'q_platform', 'q_publicfeel'])) return;
        showStep('3');
      });

      // STEP 3 -> 4 (results)
      next3.addEventListener('click', function () {
        if (!validateRadios(['q_leaks', 'q_routine', 'q_location', 'q_accept', 'q_link'])) return;
        calculateResult();
        showStep('4');
      });

      // Back buttons
      var backButtons = document.querySelectorAll('.btn.secondary[data-prev]');
      backButtons.forEach(function (btn) {
        btn.addEventListener('click', function () {
          var prev = btn.getAttribute('data-prev');
          showStep(prev);
        });
      });

      restartFromExit.addEventListener('click', function () {
        resetQuiz();
        showStep('1');
      });

      retakeBtn.addEventListener('click', function () {
        resetQuiz();
        showStep('1');
      });

      finishBtn.addEventListener('click', function () {
        calculateResult();
        alert('Your digital footprint outcome has been refreshed below.');
      });

      function calculateResult() {
        var handleScore = getIntValue('q_handle');
        var reuseScore = getIntValue('q_reuse');
        var visibilityScore = getIntValue('q_visibility');
        var platformScore = getIntValue('q_platform');
        var publicfeelScore = getIntValue('q_publicfeel');
        var leaksScore = getIntValue('q_leaks');
        var routineScore = getIntValue('q_routine');
        var locationScore = getIntValue('q_location');
        var acceptScore = getIntValue('q_accept');
        var linkScore = getIntValue('q_link');

        var total =
          handleScore +
          reuseScore +
          visibilityScore +
          platformScore +
          publicfeelScore +
          leaksScore +
          routineScore +
          locationScore +
          acceptScore +
          linkScore;

        // 10 questions, each 0‚Äì3 ‚Üí max = 30
        var level = '';
        var message = '';
        var riskClass = '';
        var pillRow = document.getElementById('pillRow');
        pillRow.innerHTML = '';

        if (total >= 20) {
          level = 'High Exposure';
          message =
            'Your online identity is highly connectable and your posts and choices reveal a lot about your routine, locations and behaviour. A stranger could build a detailed profile of you quickly.';
          riskClass = 'risk-high';
        } else if (total >= 10) {
          level = 'Moderate Exposure';
          message =
            'Some parts of your digital life are quite visible, especially around locations, routines or who can reach you. With a few smart changes you can lower your digital noise a lot.';
          riskClass = 'risk-medium';
        } else {
          level = 'Lower Exposure';
          message =
            'Right now your digital footprint is harder for strangers to map. That does not mean zero risk, but you are already making some strong privacy-aware choices.';
          riskClass = 'risk-low';
        }

        var resultLevel = document.getElementById('resultLevel');
        var resultSummary = document.getElementById('resultSummary');

        resultLevel.textContent = 'Your Exposure Level: ' + level;
        resultLevel.className = 'result-level ' + riskClass;
        resultSummary.textContent = message;

        var pills = [];

        if (handleScore >= 3) pills.push('Real-name style handle');
        if (reuseScore >= 2) pills.push('Same username across platforms');
        if (visibilityScore >= 2) pills.push('Public or unclear privacy settings');
        if (platformScore >= 2) pills.push('Very active on this account');
        if (publicfeelScore >= 2) pills.push('Feels more public than private');
        if (leaksScore >= 2) pills.push('Posts reveal school/uni/work or city');
        if (routineScore >= 2) pills.push('Routine is visible from posts');
        if (locationScore >= 2) pills.push('Frequent visible locations / geo-tags');
        if (acceptScore >= 2) pills.push('Often accepts weak connection requests');
        if (linkScore >= 2) pills.push('At risk of tapping suspicious links');

        if (pills.length === 0) {
          pills.push('Good variety in handles');
          pills.push('Limited public routine/location exposure');
        }

        for (var i = 0; i < pills.length; i++) {
          var span = document.createElement('span');
          span.className = 'pill';
          span.textContent = pills[i];
          pillRow.appendChild(span);
        }

        buildActions({
          handleScore: handleScore,
          reuseScore: reuseScore,
          visibilityScore: visibilityScore,
          platformScore: platformScore,
          publicfeelScore: publicfeelScore,
          leaksScore: leaksScore,
          routineScore: routineScore,
          locationScore: locationScore,
          acceptScore: acceptScore,
          linkScore: linkScore,
          level: level
        });
      }

      function buildActions(scores) {
        var actions = [];
        var handleScore = scores.handleScore;
        var reuseScore = scores.reuseScore;
        var visibilityScore = scores.visibilityScore;
        var platformScore = scores.platformScore;
        var publicfeelScore = scores.publicfeelScore;
        var leaksScore = scores.leaksScore;
        var routineScore = scores.routineScore;
        var locationScore = scores.locationScore;
        var acceptScore = scores.acceptScore;
        var linkScore = scores.linkScore;
        var level = scores.level;

        function addUnique(text) {
          if (actions.indexOf(text) === -1) {
            actions.push(text);
          }
        }

        // Base suggestions by level
        if (level === 'High Exposure') {
          addUnique('Pick one main account and make it private for at least 30 days. Notice how it changes who interacts with you.');
          addUnique('Remove or hide older posts that clearly show uniforms, street signs, school/uni names or regular locations.');
          addUnique('Separate ‚Äúreal name‚Äù accounts from public ones using a different handle for public content.');
        } else if (level === 'Moderate Exposure') {
          addUnique('Turn off location tags by default and only add them to posts that are safe to be public long-term.');
          addUnique('Audit your followers/friends list and remove people you cannot remember in real life.');
          addUnique('Choose one day a month to quickly review your last 10‚Äì15 posts with ‚Äústranger eyes‚Äù.');
        } else {
          addUnique('Keep your main account private and continue being picky about who can see your stories and posts.');
          addUnique('Do a quick check of app permissions (camera, mic, location) and remove any that feel unnecessary.');
          addUnique('Share this test with a friend and compare what each of you discovered about your footprint.');
        }

        // Targeted suggestions
        if (reuseScore >= 2) {
          addUnique('Use different handles on at least one platform so it is harder to automatically link all of your profiles.');
        }
        if (visibilityScore >= 2 || publicfeelScore >= 2) {
          addUnique('Review privacy settings for this account and switch anything ‚ÄúEveryone‚Äù to ‚ÄúFriends‚Äù or ‚ÄúFollowers only‚Äù where possible.');
        }
        if (locationScore >= 2 || routineScore >= 2) {
          addUnique('Avoid posting in real time from home, school, or work. Post later, or without location, so your live routine is harder to map.');
        }
        if (acceptScore >= 2) {
          addUnique('Create a simple rule: if you would not say hi to them in person, they do not need access to your private account.');
        }
        if (linkScore >= 2) {
          addUnique('Treat any ‚ÄúIs this you in this video?‚Äù message as suspicious. Ask the person on another channel before tapping.');
        }
        if (platformScore >= 2 && level !== 'Lower Exposure') {
          addUnique('Set a weekly ‚Äúdigital hygiene‚Äù reminder to check one privacy setting or old post each time instead of trying to fix everything at once.');
        }

        var actionsList = document.getElementById('actionsList');
        actionsList.innerHTML = '';
        for (var i = 0; i < actions.length && i < 5; i++) {
          var li = document.createElement('li');
          li.textContent = actions[i];
          actionsList.appendChild(li);
        }
      }

      function resetQuiz() {
        var radios = document.querySelectorAll('input[type="radio"]');
        for (var i = 0; i < radios.length; i++) {
          radios[i].checked = false;
        }
        var reflection = document.getElementById('reflection');
        if (reflection) reflection.value = '';
        document.getElementById('resultLevel').textContent = '';
        document.getElementById('resultSummary').textContent = '';
        document.getElementById('pillRow').innerHTML = '';
        document.getElementById('actionsList').innerHTML = '';
        progressFill.style.width = '0%';
        updateDots(1);
      }

      // Start state
      showStep('1');
    });
  </script>
</body>
</html>
